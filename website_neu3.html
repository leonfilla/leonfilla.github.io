<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xBloom Studio Kaffeerezepte</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }
        table {
            width: 100%;
            min-width: 1200px; /* Ensure table has a minimum width for very wide content */
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #e2e8f0; /* Tailwind gray-300 */
            padding: 0.75rem; /* p-3 */
            text-align: left;
            vertical-align: top; /* Align content to the top for better readability */
        }
        th {
            background-color: #f7fafc; /* Tailwind gray-100 */
            font-weight: 600; /* semibold */
        }
        /* Style for specific table headers to make them more prominent */
        thead th.main-header {
            background-color: #4A5568; /* gray-700 */
            color: #ffffff; /* white */
            font-size: 0.875rem; /* text-sm */
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        thead th.coffee-name-header {
            font-style: italic;
            background-color: #52525b; /* zinc-600 */
            color: #ffffff;
        }
        /* Sub-headers within the table body (like "Blooming", "Aufguss 2") */
        td.phase-header {
            font-weight: bold;
            background-color: #e5e7eb; /* gray-200 */
            text-align: center;
            font-size: 0.9rem;
            color: #1f2937; /* gray-800 */
        }

        h1, h2, h3, h4 {
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 0.75rem; /* mb-3 */
            line-height: 1.3;
        }
        h1 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* bold */
            color: #2d3748; /* gray-800 */
        }
        h2 {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* semibold */
            color: #4a5568; /* gray-700 */
            border-bottom: 2px solid #e2e8f0; /* border-b-2 border-gray-300 */
            padding-bottom: 0.5rem; /* pb-2 */
        }
        h3 {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* semibold */
            color: #4a5568; /* gray-700 */
        }
        h4 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* semibold */
            color: #4a5568; /* gray-700 */
        }
        p, ul {
            margin-bottom: 1rem; /* mb-4 */
            line-height: 1.6;
            color: #4a5568; /* gray-700 */
        }
        ul {
            list-style-position: inside;
            padding-left: 1rem; /* pl-4 */
        }
        li {
            margin-bottom: 0.5rem; /* mb-2 */
        }
        .container {
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding: 2rem; /* p-8 */
        }
        .bg-hero {
            background-color: #3a3a3a; /* Dunkler Hintergrund für den Header */
            color: #ffffff;
            padding: 3rem 1rem;
            text-align: center;
            border-radius: 0.5rem; /* rounded-lg */
            margin-bottom: 2rem;
        }
        .bg-hero h1 {
            color: #ffffff;
            font-size: 2.5rem; /* text-4xl sm:text-5xl */
        }
        .section {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
            margin-bottom: 2rem;
        }
        .table-responsive-wrapper {
            overflow-x: auto;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem; /* rounded-md */
        }

        tbody tr:nth-child(even) {
            background-color: #f7fafc; /* gray-100 */
        }
        tbody tr:hover {
            background-color: #edf2f7; /* gray-200 */
        }

        .table-container::-webkit-scrollbar {
            height: 8px;
        }
        .table-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .nav-menu a {
            @apply text-blue-600 hover:text-blue-800 hover:underline px-3 py-2 rounded-md text-sm font-medium;
        }
        .nav-menu {
            @apply bg-gray-50 p-3 rounded-lg shadow mb-6;
        }

        /* Gemini API Feature Styles */
        .gemini-button {
            @apply mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500;
        }
        .modal {
            @apply fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50;
        }
        .modal-content {
            @apply bg-white p-6 rounded-lg shadow-xl w-11/12 md:w-1/2 max-h-[80vh] overflow-y-auto;
        }
        .modal-close-button {
            @apply mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600;
        }
        .loading-spinner {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #8b5cf6; /* Purple */
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">

        <header class="bg-hero rounded-lg shadow-xl mb-8">
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold">xBloom Studio Kaffeerezepte</h1>
            <p class="mt-2 text-lg sm:text-xl text-gray-200">Optimierung von Aufgussstrategien zur Betonung von Süße, Fruchtigkeit und Körper</p>
        </header>

        <nav class="nav-menu">
            <ul class="flex flex-wrap justify-center space-x-2 sm:space-x-4">
                <li><a href="#einleitung">Einleitung</a></li>
                <li><a href="#parameter-erklaerung">Parameter</a></li>
                <li><a href="#rezepte">Rezepte</a></li>
                <li><a href="#anleitung-feinabstimmung">Feinabstimmung</a></li>
                <li><a href="#abschluss">Abschluss</a></li>
            </ul>
        </nav>

        <main>
            <section id="einleitung" class="section">
                <h2 class="text-2xl font-semibold mb-4">1. Einleitung</h2>
                <h3 class="text-xl font-semibold mt-4 mb-2">1.1. Aktualisierte Zielsetzung des Berichts</h3>
                <p>Dieser Bericht baut auf den zuvor formulierten Brührezepten auf und verfolgt das Ziel einer grundlegenden Überarbeitung und Optimierung, um das volle Geschmackspotenzial von fünf ausgewählten Kaffeesorten gezielt zu entfalten. Die ursprüngliche Zielsetzung, die erweiterten Programmiermöglichkeiten des xBloom Studio Kaffeeautomaten zu nutzen, wird beibehalten und präzisiert. Im Fokus stehen nun die spezifischen Einstellmöglichkeiten für Aufgussmuster, die auf "zentral", "spiralförmig" und "kreisförmig" beschränkt sind, sowie die Vibrationsfunktion, die lediglich als "an" oder "aus" (ohne separate Intensitäts- oder Dauersteuerung) programmierbar ist. Ein zentrales Anliegen dieses Berichts ist die Integration wissenschaftlich fundierter und rösterspezifischer Aufgussstrategien. Diese Strategien umfassen die Anzahl der Aufgüsse, die Volumenverteilung des Wassers auf die einzelnen Güsse sowie die Auswahl spezifischer Aufgussmuster pro Phase. Ziel ist es, für jede der fünf ausgewählten Kaffeesorten – Uraga Raro Boda Omniroast (Kaffeekirsche), Gran Galope Filter (Kaffeekirsche), Kenya AA Top Githima Filter (Kaffeekirsche), Popayan Reserve Decaf (Kaffeekirsche) und Kijani Kiboko Decaf Filter (19grams) – gezielt die Dimensionen Süße, Fruchtgeschmack und Körper im finalen Getränk zu betonen und zu optimieren.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">1.2. Bedeutung präzisierter Parameter und der Aufgussstrategie für die Geschmacksentwicklung</h3>
                <p>Die präzise Definition und Steuerung jedes einzelnen Brühparameters ist von entscheidender Bedeutung, nicht nur um die bestmögliche und zielgerichtete Extraktion der gewünschten Aromakomponenten zu erreichen, sondern auch um eine hohe Reproduzierbarkeit der Brühergebnisse zu gewährleisten. Die detaillierten Angaben in diesem Bericht sind so aufbereitet, dass sie eine nahtlose und fehlerfreie Übertragung in die xBloom App ermöglichen.</p>
                <p>Die Aufgussstrategie – verstanden als die orchestrierte Sequenz von Anzahl, Volumen, Dauer, Flussrate und Muster jedes einzelnen Aufgusses sowie der Pausenzeiten dazwischen – fungiert als Schlüssel zur gezielten Beeinflussung der Geschmacksattribute Süße, Fruchtigkeit und Körper. Unterschiedliche Verbindungen im Kaffee lösen sich mit verschiedenen Geschwindigkeiten und unter verschiedenen Bedingungen. Durch eine intelligente Gestaltung der Aufgusssequenz können diese Extraktionsdynamiken genutzt werden, um ein sogenanntes "Flavor Layering" zu erzielen, bei dem verschiedene Geschmacksfacetten sukzessive und kontrolliert extrahiert und im finalen Getränk harmonisch zusammengeführt werden.</p>
                <p>Die präzisierten, aber in einigen Aspekten auch limitierten Einstellmöglichkeiten des xBloom Studio, wie beispielsweise die Vibrationsfunktion, die nun nur noch als binärer Zustand (an/aus) verfügbar ist, erfordern eine umso intelligentere und bewusstere Nutzung der verbleibenden steuerbaren Parameter. Wenn die Intensität oder Dauer einer Vibration nicht justiert werden kann, wird der exakte Zeitpunkt ihres Einsatzes innerhalb des Brühzyklus zum kritischen Faktor. Eine einmalig aktivierte Vibration entfaltet einen vordefinierten Impuls. Dessen Wirkung muss daher noch sorgfältiger gegen potenzielle Risiken, wie die Migration von Feinstpartikeln (Fines) und eine daraus resultierende Überextraktion oder Verstopfung des Filters, abgewogen werden. Die hier vorgestellten Rezepte tragen dieser veränderten Rahmenbedingung Rechnung.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">1.3. Hinweis auf die Rolle der Mahlwerk-Drehzahl (RPM)</h3>
                <p>Die Möglichkeit, die Drehzahl des Mahlwerks im xBloom Studio im Bereich von 60 bis 120 RPM benutzerdefiniert einzustellen, stellt eine signifikante Erweiterung der Kontrolle über den Mahlprozess dar. Diese erweiterte Kontrollmöglichkeit wird in den folgenden Rezepten gezielt berücksichtigt. Die Drehzahl beeinflusst maßgeblich die Partikelgrößenverteilung des Mahlguts und insbesondere die Produktion von Feinstpartikeln (Fines). Langsamere Drehzahlen werden für die Filterkaffeezubereitung generell empfohlen, um die Menge an Fines zu reduzieren, was oft zu einer klareren Tasse, geringerer Bitterkeit und einer besseren Ausprägung der Süße führt. Die Anpassung der RPM ist somit ein Kernaspekt der hier vorgestellten Rezeptoptimierung und ein wichtiges Werkzeug zur Feinabstimmung der Extraktion.</p>
            </section>

            <section id="parameter-erklaerung" class="section">
                <h2 class="text-2xl font-semibold mb-4">2. Vertiefendes Verständnis der xBloom Studio Programmiermöglichkeiten und ihrer gezielten Nutzung</h2>
                <p>Eine detaillierte Kenntnis der verfügbaren Parameter und ihrer spezifischen Auswirkungen auf die Kaffeeextraktion ist grundlegend, um die nachfolgenden Rezepte zu verstehen und bei Bedarf fundiert anpassen zu können. Dieser Abschnitt vertieft die Erläuterungen und integriert die neuen Rahmenbedingungen sowie Strategien zur gezielten Geschmacksbeeinflussung. Die Zeile "Dauer (s)" in Tabelle 1 für jede Brühphase fasst die reine Aufgusszeit (Wassermenge / Durchfluss) und die nachfolgende Pause zusammen, um einen besseren Überblick über die Zeit pro Phase zu geben.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.1. Temperatursteuerung (Blooming & Aufgüsse)</h3>
                <p>Das xBloom Studio erlaubt präzise Temperatureinstellungen von Raumtemperatur bis 95°C für jede einzelne Brühphase. Die Wassertemperatur ist ein kritischer Faktor, der die Lösungsgeschwindigkeit und -selektivität verschiedener Aromakomponenten im Kaffee direkt beeinflusst. Höhere Temperaturen extrahieren tendenziell schneller und intensiver, können jedoch empfindliche florale oder fruchtige Aromen beschädigen oder zur übermäßigen Extraktion von Bitterstoffen führen. Umgekehrt extrahieren niedrigere Temperaturen sanfter, was vorteilhaft sein kann, um Bitterkeit zu reduzieren, aber bei zu kurzer Kontaktzeit oder zu geringer Temperatur zu einer Unterextraktion führen kann.</p>
                <p>Die phasenweise Temperaturkontrolle ermöglicht eine differenzierte Extraktionsstrategie. Beispielsweise kann mit einer etwas höheren Temperatur in der Blooming-Phase oder im ersten Hauptaufguss begonnen werden, um die Extraktion initial zu fördern und gewünschte Säuren sowie fruchtige Noten zu lösen. In späteren Aufgüssen kann die Temperatur dann leicht gesenkt werden, um die Extraktion von weniger erwünschten Verbindungen zu minimieren und die Entwicklung von Süße zu maximieren.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.2. Wasserdurchflussmenge (Blooming & Aufgüsse)</h3>
                <p>Die Wasserdurchflussmenge ist im xBloom Studio auf einen spezifischen Bereich von 3.0 bis 3.5 ml/s festgelegt. Diese Rate beeinflusst maßgeblich die Kontaktzeit, die Intensität der Agitation und somit die Geschwindigkeit und Gleichmäßigkeit der Extraktion. Eine höhere Rate (z.B. 3.5 ml/s) kann die Agitation leicht erhöhen, eine niedrigere Rate (z.B. 3.0 ml/s) resultiert in einer sanfteren Benetzung.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.3. Pausenzeiten (Zwischen Blooming/Aufgüssen)</h3>
                <p>Das xBloom Studio ermöglicht eine exakte Steuerung der Pausen (0 bis 59 Sekunden). Diese Pausen erlauben dem Kaffeebett, sich zu setzen ("Drain Time"), fördern eine gleichmäßige Extraktion und reduzieren das Risiko von Channeling. Die Länge der Pause beeinflusst auch die Temperaturstabilität.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.4. Präzisierte Aufgussmuster (zentral, spiralförmig, kreisförmig) und ihre Auswirkungen</h3>
                <p>Die verfügbaren Aufgussmuster im xBloom Studio sind explizit auf "zentral", "spiralförmig" und "kreisförmig" beschränkt. Diese Muster definieren, wie das Wasser auf das Kaffeebett appliziert wird und haben einen signifikanten Einfluss auf Agitation, Gleichmäßigkeit der Benetzung und somit auf die Extraktion.</p>
                <ul class="list-disc pl-5">
                    <li><strong>Zentral:</strong> Wasserfokussierung in die Mitte. Kann gleichmäßige Verteilung fördern, birgt aber Channeling-Gefahr. Nützlich zur Aufrechterhaltung einer Wassersäule und Temperaturstabilität im Kern. Geringere Agitation an den Rändern. Oft für spätere Aufgüsse zur Körperbetonung geeignet.</li>
                    <li><strong>Spiralförmig:</strong> Zielt auf gleichmäßige Wasserverteilung über eine größere Oberfläche ab, fördert homogene Benetzung und Extraktion. Gut für Blooming und Hauptextraktionsaufgüsse zur Entfaltung von Fruchtigkeit und Süße.</li>
                    <li><strong>Kreisförmig:</strong> Sanftere, breitere Kreise für schonende, vollständige Sättigung. Geeignet für Blooming bei empfindlichen Kaffees oder Hauptaufgüsse mit geringerer Agitation.</li>
                </ul>
                <p>Die strategische Wahl des Aufgussmusters ist ein entscheidendes Werkzeug. Angesichts des engen Flussratenbereichs (3.0-3.5 ml/s) wird das Muster zum primären Mittel, um die Wasser-Kaffee-Interaktion zu lenken.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.5. Kaffeefilter-Vibration (an/aus) – Überarbeitete Empfehlungen</h3>
                <p>Die Vibrationsfunktion ist als reiner An/Aus-Schalter implementiert. Der Zeitpunkt des Einsatzes ist kritisch.</p>
                <p>Potenzielle Vorteile: Nivellierung des Kaffeebetts, Freisetzung von CO₂, Reduktion von Channeling.</p>
                <p>Risiken: Migration von Feinstpartikeln (Fines), Verstopfung des Filters, Überextraktion, besonders bei feinem Mahlgut, Natural-Aufbereitungen oder entkoffeinierten Bohnen.</p>
                <p>Empfehlung: Bei Fines-anfälligen Kaffees gänzlich vermeiden oder nur äußerst gezielt und einmalig einsetzen (z.B. "An" direkt nach dem Blooming zum Ebnen des Betts, falls absolut notwendig). Bei robusteren Kaffees experimentell nach einem Hauptaufguss zur leichten Extraktionsförderung denkbar, stets unter Beobachtung. Die generelle Empfehlung für die hier vorgestellten Rezepte ist, Vibration eher zurückhaltend oder gar nicht zu verwenden, um die Klarheit und die gezielte Extraktion von Süße und Frucht nicht zu gefährden, es sei denn, es gibt spezifische Gründe (wie beim Gran Galope zur Bett-Nivellierung nach dem Blooming).</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">2.6. Die Kunst der Aufgussstrategie: Anzahl, Volumen und Timing zur Geschmackssteuerung</h3>
                <p>Die gezielte Steuerung von Süße, Fruchtigkeit und Körper erfordert ein tiefgreifendes Verständnis der Aufgussstrategie.</p>
                <p><strong>Anzahl der Aufgüsse:</strong> Mehrere kleinere Aufgüsse (typischerweise ein Blooming-Aufguss gefolgt von 2-3 Hauptaufgüssen, also insgesamt 3-4 Güsse) sind oft vorteilhafter als ein einzelner großer Aufguss. Sie ermöglichen eine gleichmäßigere, kontrolliertere Extraktion und Temperaturerhaltung.</p>
                <p><strong>Volumenverteilung:</strong> Die Verteilung des Wassers auf die einzelnen Güsse beeinflusst das Geschmacksprofil maßgeblich.</p>
                <h4 class="text-lg font-semibold mt-3 mb-1">2.6.1. Einfluss auf Süße:</h4>
                <p>Süße wird oft in mittleren bis späteren Phasen gelöst. Strategien umfassen längere Kontaktzeit in mittleren Phasen, leicht fallende Temperatur in späten Güssen, und mehrere kleine Güsse. Eine gleichmäßige Extraktion ist förderlich. Die Herausforderung liegt darin, maximale Süße ohne Bitterkeit zu erzielen. Die Rezepte in Tabelle 1 zielen darauf ab, durch Volumenverteilung und Temperaturmanagement in den späteren Aufgüssen (oft Aufguss 3 und 4) die Süße zu maximieren. Kreisförmige oder zentrale Muster in diesen Phasen können helfen, die Extraktion sanft zu steuern.</p>
                <h4 class="text-lg font-semibold mt-3 mb-1">2.6.2. Einfluss auf Fruchtigkeit und Säurebalance:</h4>
                <p>Fruchtige Noten und assoziierte Säuren werden typischerweise früh gelöst. Ein ausreichendes Blooming und gezielte erste Hauptaufgüsse (Volumen, Temperatur, Muster) sind entscheidend. Ein höherer Wasseranteil im ersten Hauptaufguss (Aufguss 2 in der neuen Nomenklatur) kann Fruchtigkeit betonen. Spiralförmige oder kreisförmige Muster mit moderater Temperatur im ersten Hauptaufguss sind hier oft ideal, um eine breite und gleichmäßige Extraktion der gewünschten Aromen zu gewährleisten, ohne scharfe Säuren zu fördern.</p>
                <h4 class="text-lg font-semibold mt-3 mb-1">2.6.3. Einfluss auf Körper und Mundgefühl:</h4>
                <p>Körper wird durch gelöste Feststoffe beeinflusst. Spätere Aufgüsse tragen signifikant dazu bei. Strategien umfassen Anpassung von Anzahl und Volumen späterer Güsse. Ein zentrales Aufgussmuster im letzten Aufguss (oft Aufguss 4) kann die Extraktion im Kern intensivieren und den Körper fördern. Ein engeres Brühverhältnis unterstützt ebenfalls einen volleren Körper. Die Rezepte balancieren dies, um einen angenehmen, runden Körper ohne Trübheit zu erzielen, oft durch sanfte zentrale Güsse am Ende.</p>
            </section>

            <section id="rezepte" class="section">
                <h2 class="text-2xl font-semibold mb-4">3. Überarbeitete und erweiterte xBloom Studio Brührezepte</h2>
                <h3 class="text-xl font-semibold mt-4 mb-2">3.1. Methodik der Rezeptanpassung</h3>
                <p>Die präsentierten Brührezepte wurden unter Berücksichtigung der präzisierten Einstellmöglichkeiten des xBloom Studio (Aufgussmuster: zentral, spiralförmig, kreisförmig; Vibration: an/aus) und mit dem Ziel der Betonung von Süße, Fruchtigkeit und Körper überarbeitet. Erkenntnisse aus Kaffeewissenschaft und Rösterinformationen wurden integriert.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">3.2. Zentrale Rezepttabelle für xBloom Studio (aktualisiert und erweitert)</h3>
                <p>Die folgende Tabelle enthält detaillierte Brühparameter für eine direkte Übertragung in die xBloom App.</p>
                <p class="mb-4 text-sm text-gray-600"><em>Tabelle 1: Überarbeitete und erweiterte Brührezepte für das xBloom Studio zur Betonung von Süße, Fruchtigkeit und Körper. Die Tabelle ist horizontal scrollbar auf kleineren Bildschirmen.</em></p>

                <div class="table-container rounded-lg shadow-md">
                    <table>
                        <thead>
                            <tr>
                                <th class="main-header">Parameter</th>
                                <th class="main-header coffee-name-header">Uraga Raro Boda Omniroast (Kaffeekirsche)</th>
                                <th class="main-header coffee-name-header">Gran Galope Filter (Kaffeekirsche)</th>
                                <th class="main-header coffee-name-header">Kenya AA Top Githima Filter (Kaffeekirsche)</th>
                                <th class="main-header coffee-name-header">Popayan Reserve Decaf (Kaffeekirsche)</th>
                                <th class="main-header coffee-name-header">Kijani Kiboko Decaf Filter (19grams)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Kaffeesorte</td>
                                <td>Äthiopien Natural Omniroast</td>
                                <td>Kolumbien Washed Filter</td>
                                <td>Kenia Washed Doppel-Fermentiert Filter/Omni</td>
                                <td>Kolumbien E.A. Decaf Omniroast</td>
                                <td>Kenia CO₂ Decaf Filter</td>
                            </tr>
                            <tr>
                                <td>Kaffeemenge (g)</td>
                                <td>16</td>
                                <td>16</td>
                                <td>16</td>
                                <td>16</td>
                                <td>16</td>
                            </tr>
                            <tr>
                                <td>Brühverhältnis (ca.)</td>
                                <td>1:16.0</td>
                                <td>1:15.5</td>
                                <td>1:16.0</td>
                                <td>1:15.0</td>
                                <td>1:15.5</td>
                            </tr>
                            <tr>
                                <td>Gesamtwassermenge (ml)</td>
                                <td>256</td>
                                <td>248</td>
                                <td>256</td>
                                <td>240</td>
                                <td>248</td>
                            </tr>
                            <tr>
                                <td>Mahlgrad (xBloom)</td>
                                <td>59</td>
                                <td>56</td>
                                <td>61</td>
                                <td>60</td>
                                <td>58</td>
                            </tr>
                            <tr>
                                <td>Mahlwerk RPM (U/Min)</td>
                                <td>70</td>
                                <td>80</td>
                                <td>65</td>
                                <td>60</td>
                                <td>60</td>
                            </tr>
                            <tr><td colspan="6" class="phase-header">Blooming</td></tr>
                            <tr>
                                <td>Wassermenge (ml)</td>
                                <td>48</td>
                                <td>48</td>
                                <td>48</td>
                                <td>48</td>
                                <td>48</td>
                            </tr>
                            <tr>
                                <td>Temperatur (°C)</td>
                                <td>92</td>
                                <td>95</td>
                                <td>92</td>
                                <td>93</td>
                                <td>92</td>
                            </tr>
                            <tr>
                                <td>Durchfluss (ml/s)</td>
                                <td>3.0</td>
                                <td>3.2</td>
                                <td>3.0</td>
                                <td>3.0</td>
                                <td>3.0</td>
                            </tr>
                            <tr>
                                <td>Pause nach Blooming (s)</td>
                                <td>40</td>
                                <td>30</td>
                                <td>40</td>
                                <td>35</td>
                                <td>35</td>
                            </tr>
                            <tr>
                                <td>Aufgussmuster</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                                <td>Kreisförmig</td>
                                <td>Kreisförmig</td>
                                <td>Kreisförmig</td>
                            </tr>
                            <tr>
                                <td>Vibration vor Bloom.</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Vibration nach Bloom.</td>
                                <td>Nein</td>
                                <td>Ja</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Dauer (s)</td>
                                <td>56</td>
                                <td>45</td>
                                <td>56</td>
                                <td>51</td>
                                <td>51</td>
                            </tr>
                            <tr><td colspan="6" class="phase-header">Aufguss 2</td></tr>
                             <tr>
                                <td>Wassermenge (ml)</td>
                                <td>80</td>
                                <td>70</td>
                                <td>70</td>
                                <td>192</td>
                                <td>70</td>
                            </tr>
                            <tr>
                                <td>Temperatur (°C)</td>
                                <td>93</td>
                                <td>95</td>
                                <td>93</td>
                                <td>93</td>
                                <td>93</td>
                            </tr>
                            <tr>
                                <td>Durchfluss (ml/s)</td>
                                <td>3.2</td>
                                <td>3.4</td>
                                <td>3.1</td>
                                <td>3.0</td>
                                <td>3.1</td>
                            </tr>
                            <tr>
                                <td>Pause nach Aufguss 2 (s)</td>
                                <td>30</td>
                                <td>25</td>
                                <td>35</td>
                                <td>0</td>
                                <td>30</td>
                            </tr>
                            <tr>
                                <td>Aufgussmuster</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                            </tr>
                            <tr>
                                <td>Vibration vor Aufguss 2</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Vibration nach Aufguss 2</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Dauer (s)</td>
                                <td>55</td>
                                <td>46</td>
                                <td>58</td>
                                <td>64</td>
                                <td>53</td>
                            </tr>
                            <tr><td colspan="6" class="phase-header">Aufguss 3</td></tr>
                            <tr>
                                <td>Wassermenge (ml)</td>
                                <td>80</td>
                                <td>70</td>
                                <td>70</td>
                                <td></td>
                                <td>70</td>
                            </tr>
                            <tr>
                                <td>Temperatur (°C)</td>
                                <td>92</td>
                                <td>94</td>
                                <td>92</td>
                                <td></td>
                                <td>92</td>
                            </tr>
                            <tr>
                                <td>Durchfluss (ml/s)</td>
                                <td>3.0</td>
                                <td>3.4</td>
                                <td>3.1</td>
                                <td></td>
                                <td>3.1</td>
                            </tr>
                            <tr>
                                <td>Pause nach Aufguss 3 (s)</td>
                                <td>30</td>
                                <td>25</td>
                                <td>35</td>
                                <td></td>
                                <td>30</td>
                            </tr>
                            <tr>
                                <td>Aufgussmuster</td>
                                <td>Kreisförmig</td>
                                <td>Spiralförmig</td>
                                <td>Spiralförmig</td>
                                <td></td>
                                <td>Spiralförmig</td>
                            </tr>
                            <tr>
                                <td>Vibration vor Aufguss 3</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td></td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Vibration nach Aufguss 3</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td></td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Dauer (s)</td>
                                <td>57</td>
                                <td>46</td>
                                <td>58</td>
                                <td></td>
                                <td>53</td>
                            </tr>
                            <tr><td colspan="6" class="phase-header">Aufguss 4</td></tr>
                            <tr>
                                <td>Wassermenge (ml)</td>
                                <td>48</td>
                                <td>60</td>
                                <td>68</td>
                                <td></td>
                                <td>60</td>
                            </tr>
                            <tr>
                                <td>Temperatur (°C)</td>
                                <td>90</td>
                                <td>93</td>
                                <td>91</td>
                                <td></td>
                                <td>91</td>
                            </tr>
                            <tr>
                                <td>Durchfluss (ml/s)</td>
                                <td>3.0</td>
                                <td>3.2</td>
                                <td>3.0</td>
                                <td></td>
                                <td>3.0</td>
                            </tr>
                            <tr>
                                <td>Pause nach Aufguss 4 (s)</td>
                                <td>0</td>
                                <td>0</td>
                                <td>0</td>
                                <td></td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>Aufgussmuster</td>
                                <td>Zentral</td>
                                <td>Zentral</td>
                                <td>Zentral</td>
                                <td></td>
                                <td>Zentral</td>
                            </tr>
                            <tr>
                                <td>Vibration vor Aufguss 4</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td></td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Vibration nach Aufguss 4</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td>Nein</td>
                                <td></td>
                                <td>Nein</td>
                            </tr>
                            <tr>
                                <td>Dauer (s)</td>
                                <td>16</td>
                                <td>19</td>
                                <td>23</td>
                                <td></td>
                                <td>20</td>
                            </tr>
                            <tr class="bg-yellow-100">
                                <td class="font-bold">Gesamtbrühzeit (ca.)</td>
                                <td class="font-bold">3:04</td>
                                <td class="font-bold">2:36</td>
                                <td class="font-bold">3:15</td>
                                <td class="font-bold">1:55</td>
                                <td class="font-bold">2:57</td>
                            </tr>
                            <tr>
                                <td class="font-semibold">Anmerkungen</td>
                                <td class="text-sm">Ziel: Jasmin schützen, intensive Frucht (rote Beeren) & ausgeprägte Süße betonen, voller Körper. Aufguss 2 (Frucht), 3 (Süße), 4 (Körper/Balance). Keine Vibration.</td>
                                <td class="text-sm">Ziel: Saftige Säure (Grapefruit), Melasse-Süße & voller Körper. Vibration nach Bloom für Bett-Settling. Aufguss 2 (Säure/Frucht), 3/4 (Süße/Körper).</td>
                                <td class="text-sm">Ziel: Spritzige Säure (Pflaume/Physalis), subtile Süße, komplexer Schwarztee-Körper. Keine Vibration. Aufguss 2 (Säure/Klarheit), 3/4 (Süße/Komplexität).</td>
                                <td class="text-sm">Ziel: Maximale Süße (Zuckerrohr) & fruchtiger Körper (Bergpfirsich), minimale Bitterkeit. Hauptaufguss dient der Süße- und Körperentwicklung bei minimaler Agitation. Keine Vibration.</td>
                                <td class="text-sm">Ziel: Klare Kenia-Frucht (Johannisbeere, Grapefruit), Süße (dunkle Trauben) & seidiges Mundgefühl. Keine Vibration. Aufguss 2 (Frucht), 3/4 (Süße/Mundgefühl).</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="mt-4 text-xs text-gray-500">
                    <strong>Hinweis zu "Dauer (s)":</strong> Die Werte wurden berechnet als (Wassermenge / Durchfluss) + Pause. Bei Nachkommastellen wurde auf eine praxisnahe Stelle gerundet. Die "Pause nach Aufguss 4" (bzw. dem letzten aktiven Aufguss) wird als 0 angenommen. Die "Gesamtbrühzeit (ca.)" ist die Summe der "Dauer (s)" jeder Phase.
                </p>


                <h3 class="text-xl font-semibold mt-6 mb-2">3.3. Detaillierte Erläuterungen und Begründungen pro Kaffeesorte:</h3>

                <div id="coffee-detail-1" class="mt-4 p-4 border-l-4 border-blue-500 bg-blue-50 rounded-r-md">
                    <h4 class="text-lg font-semibold text-blue-700 coffee-name">3.3.1. Uraga Raro Boda Omniroast (Kaffeekirsche)</h4>
                    <p class="coffee-aroma-profile"><strong>Aromaprofil und Zielsetzung:</strong> Äthiopischer Natural Omniroast mit Noten von roten Beeren, Jasmin, getrockneten Früchten; voller Körper, ausgeprägte Süße, milde Säure. Ziel: Jasmin schützen, Frucht (rote Beeren) und Süße betonen, voller, klarer Körper.</p>
                    <p><strong>Aufgussstrategie:</strong></p>
                    <ul class="list-disc pl-5">
                        <li>Aufguss 2 (80ml, 93°C, Spiralförmig): Betont Fruchtigkeit und florale Noten.</li>
                        <li>Aufguss 3 (80ml, 92°C, Kreisförmig): Entwickelt Süße, sanftere Extraktion.</li>
                        <li>Aufguss 4 (48ml, 90°C, Zentral): Rundet Körper ab, fokussiert Balance, vermeidet Überextraktion.</li>
                    </ul>
                    <p class="coffee-reasoning"><strong>Begründung:</strong> Gestaffelte Strategie mit spezifischen Mustern, leicht fallendes Temperaturprofil, moderate Flussraten, niedrige RPM (70) und Verzicht auf Vibration schützen delikate Aromen, fördern Süße und Frucht und entwickeln einen vollen Körper ohne Bitterkeit.</p>
                    <button class="gemini-button" onclick="fetchCoffeeDetails('coffee-detail-1')">✨ Mehr über diesen Kaffee erfahren</button>
                </div>

                <div id="coffee-detail-2" class="mt-6 p-4 border-l-4 border-green-500 bg-green-50 rounded-r-md">
                    <h4 class="text-lg font-semibold text-green-700 coffee-name">3.3.2. Gran Galope Filter (Kaffeekirsche)</h4>
                    <p class="coffee-aroma-profile"><strong>Aromaprofil und Zielsetzung:</strong> Kolumbianischer Washed Filter mit Noten von Schwarzbeere, Melasse, Pampelmuse; voller Körper, fruchtig-saftige Säure, lang anhaltende Süße. Ziel: Saftige Säure/Fruchtigkeit (Schwarzbeere, Pampelmuse) hervorheben, Melasse-Süße entwickeln, voller Körper, Klarheit.</p>
                    <p><strong>Aufgussstrategie:</strong></p>
                    <ul class="list-disc pl-5">
                        <li>Vibration nach Blooming: "Ja" zur Nivellierung des Kaffeebetts.</li>
                        <li>Aufguss 2 (70ml, 95°C, Spiralförmig): Betont Säure und Frucht.</li>
                        <li>Aufguss 3 (70ml, 94°C, Spiralförmig): Entwickelt Süße und beginnenden Körper.</li>
                        <li>Aufguss 4 (60ml, 93°C, Zentral): Finalisiert Extraktion, betont Körper.</li>
                    </ul>
                    <p class="coffee-reasoning"><strong>Begründung:</strong> Höhere Temperaturen und Flussraten initial für Säure/Frucht. Gestaffelte Güsse mit spezifischen Mustern und leicht fallender Temperatur für Süße/Körper. Mittlere RPM (80).</p>
                    <button class="gemini-button" onclick="fetchCoffeeDetails('coffee-detail-2')">✨ Mehr über diesen Kaffee erfahren</button>
                </div>

                <div id="coffee-detail-3" class="mt-6 p-4 border-l-4 border-purple-500 bg-purple-50 rounded-r-md">
                     <h4 class="text-lg font-semibold text-purple-700 coffee-name">3.3.3. Kenya AA Top Githima Filter (Kaffeekirsche)</h4>
                    <p class="coffee-aroma-profile"><strong>Aromaprofil und Zielsetzung:</strong> Kenia Washed Doppel-Fermentiert mit Noten von Schwarztee, Pflaume, Physalis; lang anhaltender Körper, subtile Süße, spritzige Säure. Ziel: Subtile Süße und komplexen Körper entwickeln, spritzige Säure angenehm halten, teenähnliche Klarheit.</p>
                    <p><strong>Aufgussstrategie:</strong></p>
                    <ul class="list-disc pl-5">
                        <li>Aufguss 2 (70ml, 93°C, Spiralförmig): Sanfter Start für Säure/Klarheit.</li>
                        <li>Aufguss 3 (70ml, 92°C, Spiralförmig): Kontrollierte Extraktion für Süße/Komplexität.</li>
                        <li>Aufguss 4 (68ml, 91°C, Zentral): Entwicklung des lang anhaltenden Körpers.</li>
                    </ul>
                    <p class="coffee-reasoning"><strong>Begründung:</strong> Sanfte Parameter (niedrigere Temperaturen, geringere Flussraten, niedrige RPM (65), keine Vibration) aufgrund der hohen Löslichkeit durch doppelte Fermentation. Längere Pausen.</p>
                    <button class="gemini-button" onclick="fetchCoffeeDetails('coffee-detail-3')">✨ Mehr über diesen Kaffee erfahren</button>
                </div>

                <div id="coffee-detail-4" class="mt-6 p-4 border-l-4 border-red-500 bg-red-50 rounded-r-md">
                    <h4 class="text-lg font-semibold text-red-700 coffee-name">3.3.4. Popayan Reserve Decaf (Kaffeekirsche)</h4>
                    <p class="coffee-aroma-profile"><strong>Aromaprofil und Zielsetzung:</strong> Kolumbien E.A. Decaf Omniroast mit Noten von Zuckerrohr, Kakaonibs, Bergpfirsich; fruchtiger Körper, sehr präsente Süße, milde Säure. Ziel: Maximale Süße und Fruchtnoten, angenehmer Körper, minimale Bitterkeit (Fines-Management).</p>
                    <p><strong>Aufgussstrategie:</strong></p>
                    <ul class="list-disc pl-5">
                        <li>Aufguss 2 (192ml, 93°C, Spiralförmig): Einziger Hauptaufguss zur Minimierung der Agitation, gleichmäßige Verteilung zur Förderung von Süße und fruchtigem Körper.</li>
                    </ul>
                    <p class="coffee-reasoning"><strong>Begründung:</strong> Maximale Schonung. Reduzierte Anzahl Güsse, sanftes Muster, niedrigste RPM (60), konstante moderate Temperatur (93°C), keine Vibration.</p>
                    <button class="gemini-button" onclick="fetchCoffeeDetails('coffee-detail-4')">✨ Mehr über diesen Kaffee erfahren</button>
                </div>

                <div id="coffee-detail-5" class="mt-6 p-4 border-l-4 border-yellow-500 bg-yellow-50 rounded-r-md">
                     <h4 class="text-lg font-semibold text-yellow-700 coffee-name">3.3.5. Kijani Kiboko Decaf Filter (19grams)</h4>
                    <p class="coffee-aroma-profile"><strong>Aromaprofil und Zielsetzung:</strong> Kenia CO₂ Decaf Filter mit Noten von schwarzer Johannisbeere, Grapefruit, dunklen Trauben; seidiges Mundgefühl. Ziel: Delikate Fruchtnoten und Süße hervorheben, seidiges Mundgefühl entwickeln.</p>
                    <p><strong>Aufgussstrategie:</strong></p>
                    <ul class="list-disc pl-5">
                        <li>Aufguss 2 (70ml, 93°C, Spiralförmig): Aktivierung der Fruchtnoten.</li>
                        <li>Aufguss 3 (70ml, 92°C, Spiralförmig): Entwicklung von Süße und Mundgefühl.</li>
                        <li>Aufguss 4 (60ml, 91°C, Zentral): Finalisierung, Betonung des seidigen Mundgefühls.</li>
                    </ul>
                    <p class="coffee-reasoning"><strong>Begründung:</strong> Sanfte, vielschichtige Extraktion. Spezifische Muster, leicht fallendes Temperaturprofil, niedrigste RPM (60), keine Vibration. Gesamtwassermenge an Rösterempfehlung angepasst.</p>
                    <button class="gemini-button" onclick="fetchCoffeeDetails('coffee-detail-5')">✨ Mehr über diesen Kaffee erfahren</button>
                </div>
            </section>

            <section id="anleitung-feinabstimmung" class="section">
                <h2 class="text-2xl font-semibold mb-4">4. Anleitung zur App-Eingabe und Hinweise zur Feinabstimmung (Dialing-In)</h2>
                <h3 class="text-xl font-semibold mt-4 mb-2">4.1. Praktische Hinweise zur Übertragung der erweiterten Rezepte</h3>
                <p>Die Übertragung der oben detaillierten Brührezepte in die xBloom App erfordert Sorgfalt. Achten Sie bei der Eingabe darauf, die Werte für Temperatur, Wassermenge, Durchflussrate, das spezifische Aufgussmuster (Zentral, Spiralförmig, Kreisförmig) für jede Phase, Pausenzeiten und die Vibrationseinstellungen (Vibration vor Bloom./Aufguss, Vibration nach Bloom./Aufguss: Ja/Nein) exakt gemäß der Tabelle 1 zu übernehmen. Die Mahlwerk-Drehzahl (RPM) wird im Grinder-Modul der App eingestellt oder als Teil des gespeicherten Rezepts definiert. Die Dauer jeder einzelnen Wasserzugabe ergibt sich rechnerisch aus Wassermenge und Durchflussrate; die Zeile "Dauer (s)" in der Tabelle gibt die Gesamtzeit der Phase inklusive der nachfolgenden Pause an.</p>

                <h3 class="text-xl font-semibold mt-4 mb-2">4.2. Systematische Feinabstimmung zur Betonung von Süße, Fruchtigkeit und Körper</h3>
                <p>Die bereitgestellten Rezepte sind optimierte Ausgangspunkte. Individuelle Präferenzen und Bohnenchargen können Anpassungen erfordern.</p>
                <p><strong>Primärer Hebel Mahlgrad:</strong> Bleibt entscheidend. Sauer/wässrig -> feiner. Bitter/scharf -> gröber.</p>
                <p><strong>Sekundäre Hebel zur Feinabstimmung von Süße, Fruchtigkeit und Körper:</strong></p>
                <ul class="list-disc pl-5">
                    <li><strong>Anpassung der Aufgussstrategie (Anzahl, Volumen, Muster):</strong>
                        <ul class="list-circle pl-5 mt-1">
                            <li><em>Für mehr Süße:</em> Volumen der mittleren/späten Aufgüsse (Aufguss 3, 4) leicht erhöhen oder Temperatur in diesen Phasen leicht senken. Längere Pausen können helfen, wenn das Bett nicht zu stark auskühlt. Kleinere, aber dafür mehr Aufgüsse können Süße fördern.</li>
                            <li><em>Für mehr Fruchtigkeit:</em> Volumen des ersten Hauptaufgusses (Aufguss 2) anpassen. Höherer Wasseranteil hier kann Fruchtigkeit betonen. Temperatur von Aufguss 2 leicht erhöhen (max. 95-96°C). Spiralförmige/kreisförmige Muster in frühen Phasen.</li>
                            <li><em>Für mehr Körper:</em> Engeres Brühverhältnis. Volumen der späten Aufgüsse (Aufguss 4) erhöhen oder zentrales Muster für den letzten Aufguss verwenden. Längere Gesamtkontaktzeit.</li>
                        </ul>
                    </li>
                    <li><strong>Anpassung der Temperaturen einzelner Phasen:</strong> Bei Bitterkeit Temperatur in späten Güssen (Aufguss 3, 4) um 1-2°C senken. Bei unangenehmer Säure Temperatur von Blooming oder Aufguss 2 leicht erhöhen.</li>
                    <li><strong>Anpassung der Wasserdurchflussmenge:</strong> Nur feine Justierungen im Bereich 3.0-3.5 ml/s möglich.</li>
                    <li><strong>Anpassung der Kaffeefilter-Vibration (An/Aus):</strong> Mit äußerster Vorsicht. "An" nach Blooming kann Bett nivellieren. "An" nach einem Hauptaufguss kann Extraktion leicht erhöhen, birgt aber Fines-Risiko. Bei Verstopfung/Bitterkeit Vibration auf "Aus".</li>
                    <li><strong>Anpassung der Mahlwerk RPM:</strong> Bei Bitterkeit trotz gröberem Mahlgrad RPM weiter reduzieren (Richtung 60 RPM). Bei sehr harten, hellen Bohnen ggf. leicht erhöhen (75-85 RPM).</li>
                </ul>
                <p><strong>Systematisches Vorgehen und Interdependenzen:</strong> Immer nur eine Variable gleichzeitig ändern. Änderungen und Ergebnisse notieren. Parameter interagieren.</p>
            </section>

            <section id="abschluss" class="section">
                <h2 class="text-2xl font-semibold mb-4">5. Abschließende Bemerkungen</h2>
                <p>Die Fähigkeit des xBloom Studio, detaillierte Brühparameter wie phasenweise Temperatur, präzise Durchflussraten, Pausenzeiten, spezifische Aufgussmuster (zentral, spiralförmig, kreisförmig), die binär steuerbare Vibrationsfunktion (an/aus) sowie die einstellbare Mahlwerk-Drehzahl zu kontrollieren, eröffnet ein neues Niveau an Präzision. Die hier präsentierten, überarbeiteten Rezepte nutzen diese Funktionen gezielt, um Süße, Fruchtigkeit und Körper jeder Kaffeesorte systematisch zu erschließen.</p>
                <p>Diese Rezepte dienen als fundierte Ausgangspunkte. Faktoren wie Bohnencharge, Wasserqualität und individuelle Vorlieben spielen eine Rolle. Experimentierfreude und methodische Feinabstimmung sind der Schlüssel zum persönlichen Optimum. Grundlegende Faktoren wie hochwertiges Wasser und frische Bohnen bleiben unerlässlich.</p>
            </section>
        </main>

        <footer class="text-center mt-12 py-6 border-t border-gray-300">
            <p class="text-gray-600 text-sm">&copy; 2024 Ihr Name / Ihre Organisation. Alle Rechte vorbehalten.</p>
            <p class="text-gray-500 text-xs mt-1">Erstellt für die optimale Nutzung mit dem xBloom Studio.</p>
        </footer>

    </div>

    <div id="geminiModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="modalTitle" class="text-xl font-semibold mb-4">KI Kaffee-Sommelier Notizen</h3>
            <div id="modalLoading" class="loading-spinner"></div>
            <div id="modalError" class="text-red-500 mb-3 hidden"></div>
            <div id="modalResult" class="text-gray-700 whitespace-pre-wrap">
                </div>
            <button onclick="closeModal()" class="modal-close-button">Schließen</button>
        </div>
    </div>

    <script>
        // JavaScript für die Gemini API Integration

        const modal = document.getElementById('geminiModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalResult = document.getElementById('modalResult');
        const modalLoading = document.getElementById('modalLoading');
        const modalError = document.getElementById('modalError');

        function openModal() {
            modalResult.innerHTML = ''; // Inhalt zurücksetzen
            modalError.classList.add('hidden');
            modalError.textContent = '';
            modalLoading.classList.remove('hidden');
            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
        }

        async function fetchCoffeeDetails(coffeeDetailId) {
            openModal();

            const coffeeDetailElement = document.getElementById(coffeeDetailId);
            if (!coffeeDetailElement) {
                modalResult.innerHTML = '<p class="text-red-500">Fehler: Kaffee-Detail Element nicht gefunden.</p>';
                modalLoading.classList.add('hidden');
                return;
            }

            const coffeeNameElement = coffeeDetailElement.querySelector('.coffee-name');
            const aromaProfileElement = coffeeDetailElement.querySelector('.coffee-aroma-profile');
            const reasoningElement = coffeeDetailElement.querySelector('.coffee-reasoning');

            let coffeeName = coffeeNameElement ? coffeeNameElement.textContent.replace(/^[0-9.]+\s*/, '').trim() : 'Unbekannter Kaffee';
            let aromaProfile = aromaProfileElement ? aromaProfileElement.textContent.trim() : 'Kein Aromaprofil verfügbar.';
            let reasoning = reasoningElement ? reasoningElement.textContent.trim() : 'Keine Begründung verfügbar.';
            
            modalTitle.textContent = `KI Kaffee-Sommelier Notizen für: ${coffeeName}`;

            const prompt = `Du bist ein erfahrener Kaffee-Sommelier und sprichst Deutsch. Basierend auf den folgenden Informationen zu einem Kaffee, erstelle bitte:
1.  **Detaillierte Verkostungsnotizen:** Beschreibe die Aromen und den Geschmack des Kaffees lebendig und ansprechend (ca. 50-70 Wörter).
2.  **Food-Pairing Vorschläge:** Gib zwei konkrete Speisen oder Snacks an, die gut zu diesem Kaffee passen, mit einer kurzen Begründung für jeden Vorschlag (jeweils ca. 20-30 Wörter).
3.  **Kreative Empfehlung:** Verfasse eine kurze, einladende Beschreibung des Kaffees, als würdest du ihn einem Freund empfehlen (ca. 30-50 Wörter).

Formatiere deine Antwort klar und übersichtlich mit den Überschriften "Detaillierte Verkostungsnotizen:", "Food-Pairing Vorschläge:" und "Kreative Empfehlung:".

Hier sind die Kaffee-Informationen:
Kaffee-Name: ${coffeeName}
${aromaProfile}
${reasoning}`;

            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; // API-Key wird zur Laufzeit von der Umgebung bereitgestellt
            // Korrigierte apiUrl Zeile: Sicherstellen, dass keine unerwünschten Zeichen enthalten sind.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('API Error Data:', errorData);
                    throw new Error(`API-Fehler: ${response.status} ${response.statusText}. Details: ${errorData?.error?.message || 'Keine Details'}`);
                }

                const result = await response.json();

                modalLoading.classList.add('hidden');

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    // Ersetze Markdown-ähnliche Formatierungen für bessere HTML-Darstellung
                    let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); // Fett
                    formattedText = formattedText.replace(/\n/g, '<br>'); // Zeilenumbrüche
                    modalResult.innerHTML = formattedText;
                } else {
                    console.error('Unerwartete API-Antwortstruktur:', result);
                    modalError.textContent = 'Fehler: Die Antwort der KI konnte nicht verarbeitet werden. Bitte versuchen Sie es später erneut.';
                    modalError.classList.remove('hidden');
                }
            } catch (error) {
                console.error('Fehler beim Abrufen der Kaffee-Details:', error);
                modalLoading.classList.add('hidden');
                modalError.textContent = `Ein Fehler ist aufgetreten: ${error.message}`;
                modalError.classList.remove('hidden');
            }
        }

        // Schließen des Modals, wenn außerhalb geklickt wird
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>

</body>
</html>
